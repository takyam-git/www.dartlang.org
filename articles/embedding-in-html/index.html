<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Product">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  <title>Embedding Dart in HTML | Dart: Structured web apps</title>
  <meta property="twitter:account_id" content="376585411" />
  <meta itemprop="name" content="Embedding Dart in HTML | Dart: Structured web apps">
  
  <meta itemprop="image" content="https://www.dartlang.org/imgs/dart-logo-wordmark-1200w.png">
  
  <meta itemprop="description" content="Find out how you can embed Dart into HTML pages.">



<!-- making pagespeed insights happy -->
<style>
@font-face {
  font-family: 'Montserrat';
  font-style: normal;
  font-weight: 400;
  src: url(https://themes.googleusercontent.com/static/fonts/montserrat/v4/zhcz-_WihjSQC0oHJ9TCYL3hpw3pgy2gAi-Ip7WPMi0.woff) format('woff');
}
@font-face {
  font-family: 'Montserrat';
  font-style: normal;
  font-weight: 700;
  src: url(https://themes.googleusercontent.com/static/fonts/montserrat/v4/IQHow_FEYlDC4Gzy_m8fcnbFhgvWbfSbdVg11QabG8w.woff) format('woff');
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 300;
  src: url(https://themes.googleusercontent.com/static/fonts/roboto/v10/Hgo13k-tfSpn0qi1SFdUfbO3LdcAZYWl9Si6vvxL-qU.woff) format('woff');
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 400;
  src: url(https://themes.googleusercontent.com/static/fonts/roboto/v10/CrYjSnGjrRCn0pd9VQsnFOvvDin1pK8aKteLpeZ5c0A.woff) format('woff');
}
</style>

<link rel='stylesheet' type='text/css' href='/bundles/96e4b278be2e9b94cffcad9b0b04384c.css' />


  <link rel="author" href="/authors/sigmund-cherem.html"><link rel="author" href="/authors/vijay-menon.html"><link rel="author" href="/authors/seth-ladd.html">
  

  <link rel="alternate" type="application/atom+xml" href="http://news.dartlang.org/feeds/posts/default" title="Atom feed">
  <link href="https://plus.google.com/109866369054280216564" rel="publisher">

  <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
  <![endif]-->

  <script>

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-49880327-3', 'dartlang.org');
ga('create', 'UA-26406144-4',
    {'cookieDomain': 'dartlang.org',
     'siteSpeedSampleRate': 50,
     'name': 'dartlangTracker'});

ga('send', 'pageview');
ga('dartlangTracker.send', 'pageview');

</script>


  <script async="" defer="" src="//survey.g.doubleclick.net/async_survey?site=apno2k33xucna4srya26u4i2ri"></script>

</head>
<body onload="prettyPrint()" data-spy="scroll" data-target=".bs-sidebar">

    <div class="navbar navbar-fixed-top navbar-inverse" role="navigation">
      <div class="dart-developer-summit-reg" style="text-align:center;background-color: hsl(172,67%,80%);">
        <a href="/events/2015/summit/">Watch sessions from the first Dart Developer Summit</a>
      </div>
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/"><i class="sprite-icon-dart-logo"></i></a>
        </div>

        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
           <li class="dropdown">
              <a href="#" class="dropdown=toggle" data-toggle="dropdown">
                Get Started <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">

                <i class="sprite-icon-dd-tip"></i>
                <li><a href="/codelabs/darrrt/">Learn Dart in Minutes</a></li>
                <li><a href="/downloads/">Download Dart</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    Fundamentals <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="/docs/dart-up-and-running/ch02.html">Language Tour</a></li>
                <li><a href="/docs/dart-up-and-running/ch03.html">Library Tour</a></li>
                <li><a href="/docs/">Programmer's Guide</a></li>

                <li class="divider"></li>
                <li><a href="/tools/">Dart Tools</a></li>
                <li><a href="/tools/pub/">Pub Package and Asset Manager</a></li>

                <li class="divider"></li>
                <li><a href="/docs/tutorials/get-started/">Tutorial: Get Started</a></li>
                <li><a href="/docs/tutorials/shared-pkgs/">Tutorial: Packages</a></li>
                <li><a href="/docs/tutorials/futures/">Tutorial: Async</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    Browser<span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="/polymer/">Polymer</a></li>
                <li><a href="/codelabs/polymer/">Polymer Code Lab</a></li>
                <li class="divider"></li>
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="/docs/tutorials/connect-dart-html/">Tutorial: HTML</a></li>
                <li><a href="/docs/tutorials/polymer-intro/">Tutorial: Polymer</a></li>
                <li><a href="/docs/tutorials/fetchdata/">Tutorial: Forms & Data</a></li>
                <li class="divider"></li>
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="/tools/editor/mobile.html">Mobile</a></li>

                <li class="divider"></li>
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="/googleapis/">Google APIs Client Libraries</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    Server <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="/docs/tutorials/cmdline/">Tutorial: Basic Command-Line Apps</a></li>
                <li><a href="/docs/tutorials/httpserver/">Tutorial: HTTP Servers and Clients</a></li>

                <li class="divider"></li>
                <li><a href="/server/google-cloud-platform/">Deploying Your Server Application</a></li>
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="/googleapis/">Using Google APIs from Your Server</a></li>

                <li class="divider"></li>
                <li><a href="/docs/serverguide.html">Additional Resources</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    More <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>

                <li><a href="/samples/">Code Samples</a></li>
                <li><a href="/docs/synonyms/">Synonyms with Other Languages</a></li>
                <li><a href="/dart-by-example/">Dart by Example</a></li>

                <li class="divider"></li>
                <li><a href="/articles/">Articles</a></li>
                <li><a href="http://api.dartlang.org">API Reference</a></li>
                <li><a href="/docs/spec/">Language Specification</a></li>

                <li class="divider"></li>
                <li><a href="/community/who-uses-dart.html">Who Uses Dart</a></li>
                <li><a href="/support/faq.html">FAQ</a></li>
                <li><a href="/logos/">Logos and Colors</a></li>
                <li><a href="/books/">Books</a></li>
                <li><a href="/performance/">Performance</a></li>

                <li class="divider"></li>
                <li><a href="/slides/">Presentations</a></li>
                <li><a href="/dart-tips/">Dart Tips Videos</a></li>
                <li><a href="/support/">Support</a></li>
              </ul>
            </li>
          </ul>

          <ul class="nav navbar-nav navbar-right">
            <li>
              <form class="navbar-search" action="/search.html" id="cse-search-box">
                <input type="hidden" name="cx" value="011220921317074318178:i4mscbaxtru">
                <input type="hidden" name="ie" value="UTF-8">
                <input type="hidden" name="hl" value="en">
                <input type="search" name="q" class="search-query placeholder-position-fix form-control" id="q" autocomplete="off" placeholder="Search">
              </form>
            </li>
            <li><a href="https://twitter.com/dart_lang" class="btn"><i class="sprite-icon-social-twitter"></i></a></li>
            <li><a href="https://plus.google.com/+dartlang/posts" class="btn"><i class="sprite-icon-social-gplus"></i></a></li>
          </ul>
        </div><!-- /.nav-collapse -->

      </div><!-- /.container -->
    </div><!-- /.navbar -->


<div class="container-page">
  <div class="container">
  	<div class="container sub-page">
      <div class="row">
        <article class="has-permalinks"><div class="col-md-4">
  <div class="bs-sidebar" data-spy="affix" data-offset-bottom="350" role="complementary">

<ol class="toc nav bs-sidenav" id="markdown-toc">
  <li><a href="#quick-start">Quick start</a></li>
  <li><a href="#dart-mime-type">Dart MIME type and the &lt;script&gt; tag</a></li>
  <li><a href="#dart-html-semantics">Dart semantics in HTML</a></li>
  <li><a href="#dartjs-script">The dart.js script</a></li>
  <li><a href="#fundamental-differences-from-javascript">Fundamental differences from JavaScript</a>    <ol>
      <li><a href="#a-single-script-tag">A single script tag</a></li>
      <li><a href="#execution-timing">Execution timing</a></li>
      <li><a href="#no-inline-event-listeners">No inline event listeners</a></li>
      <li><a href="#no-script-injection-of-dart-code">No script injection of Dart code</a></li>
    </ol>
  </li>
</ol>

  </div>
</div>
<div class="col-md-8">
  <p><!-- Start of content -->
</p>

  <div>
    <ol class="breadcrumb">

  <li><a href="/articles/">
  Articles</a></li>


  <li class="active">Embedding Dart in HTML</li>
</ol>
  </div>

  <h1 id="embedding-dart-in-html">Embedding Dart in HTML</h1>

  <p><em>Written by Sigmund Cherem, Vijay Menon, and Seth Ladd <br />
October 2011
(updated December 2014)</em></p>

  <p>Dart apps compile to JavaScript to run across modern desktop and mobile
browsers. Dart apps can also run inside a Dart virtual machine (VM), which can be
embedded into web browsers.</p>

  <p>This article covers how to integrate Dart apps into web pages, when first
compiled to JavaScript or when run in the Dart VM.</p>

  <h2 id="quick-start">Quick start</h2>

  <ol>
    <li>Compile your Dart app to JavaScript with
<a href="/tools/dart2js/">dart2js</a>.
If your Dart file is <code>app.dart</code> then name your JavaScript version
<code>app.dart.js</code>.</li>
    <li>Load your Dart app with a <code>&lt;script type="application/dart"&gt;</code> tag
(only one per HTML page).</li>
    <li>Follow that tag with a &lt;script&gt; tag for the <code>dart.js</code> file.</li>
  </ol>

  <p>Here is a minimal example, which works in all browsers (even if they don’t
  support the Dart VM):</p>

  <pre class="prettyprint lang-dart">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Simple Dart App&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Hello, Dart!&lt;/h1&gt;
    &lt;script type=&quot;application/dart&quot; src=&quot;app.dart&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;packages/browser/dart.js&quot;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>

  <h2 id="dart-mime-type">Dart MIME type and the &lt;script&gt; tag</h2>

  <p>HTML <code>script</code> tags provide a
<code>type</code> attribute to define the language of the script.
For Dart, this attribute has the value <code>application/dart</code>.</p>

  <p>Here is an example:</p>

  <pre class="prettyprint lang-html">
&lt;script type=&quot;application/dart&quot; src=&quot;app.dart&quot;&gt;&lt;/script&gt;
</pre>

  <p>Dart doesn’t support inline scripts (scripts defined inside the HTML page).
While an inline script technically works in Dartium (a build of Chromium
with the Dart VM), the Dart-to-JavaScript compiler (dart2js) doesn’t work with inline
scripts.</p>

  <p>The Dart app must have a visible top-level function called <code>main()</code>.
The browser invokes <code>main()</code> when the DOM content is loaded (but see
caveat in the <a href="#dart-html-semantics">next section</a>).</p>

  <p>You should use only one <code>&lt;script type="application/dart"&gt;</code> inside the HTML
page. The dart2js compiler produces JavaScript that assumes it is
the only Dart app on the page.</p>

  <h2 id="dart-html-semantics">Dart semantics in HTML</h2>

  <p>The precise semantics of Dart execution on an HTML page are evolving
and likely to change by the time Dart is natively supported in a
production browser.</p>

  <p>Currently, your Dart app’s <code>main()</code> function is run after DOM content
is loaded, but the exact timing is undefined (e.g., with respect to
the load event or deferred JavaScript).  In the future, we may invoke
<code>main()</code> synchronously during HTML parsing instead of waiting for DOM
content to load.</p>

  <p>As such, we recommend the following:</p>

  <ol>
    <li>Restrict your application to a single Dart script per document.</li>
    <li>Place your Dart script at the end of your document’s body (followed
only by the dart.js script if you choose to use that).</li>
    <li>Do not use async or defer attributes on your Dart script tag at this point.</li>
    <li>Do not rely upon ordering between your Dart script and any
JavaScript scripts that may execute after it (e.g., that appear
after it or are marked async or defer).</li>
    <li>Do not rely upon script injection of Dart code.</li>
  </ol>

  <h2 id="dartjs-script">The dart.js script</h2>

  <p>Use the dart.js script, part of the
<a href="https://pub.dartlang.org/packages/browser">browser package</a>,
to run your app in browsers that don’t have a
Dart VM. The dart.js script allows you to use the same HTML page for
both Dartium and other browsers.</p>

  <p>If no Dart VM is detected in the browser, the dart.js script swaps out the
<code>application/dart</code> script for a
<code>text/javascript</code> script that points to the JavaScript version of the
Dart app.</p>

  <p>The dart.js script tag must come after the Dart script tag.</p>

  <p>For example:</p>

  <pre class="prettyprint lang-html">
&lt;script type=&quot;application/dart&quot; src=&quot;awesome_app.dart&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;packages/browser/dart.js&quot;&gt;&lt;/script&gt;
</pre>

  <p>To get a copy of the dart.js file,
you can use the <a href="/tools/pub/">pub package manager</a>.
Here’s how:</p>

  <ol>
    <li>
      <p>Add the following to your application’s pubspec.yaml,
replacing the version range with the appropriate version:</p>

      <pre><code>dependencies:
  browser: "&gt;=0.10.0 &lt;0.11.0"
</code></pre>
    </li>
    <li>
      <p>Run <code>pub get</code>.</p>
    </li>
    <li>
      <p>Use a relative script tag to point to the installed version:</p>

      <pre><code>&lt;script src="packages/browser/dart.js"&gt;&lt;/script&gt;
</code></pre>
    </li>
  </ol>

  <h2 id="fundamental-differences-from-javascript">Fundamental differences from JavaScript</h2>

  <p>Embedding Dart code is different from embedding JavaScript
in a few ways.</p>

  <h3 id="a-single-script-tag">A single script tag</h3>

  <p>Each HTML document can have at most one Dart script tag, or only one
script tag that references a Dart app that is compiled to JavaScript.
This fundamentally differs from the way
that JavaScript is embedded in HTML—in
JavaScript, you can have multiple script tags per document.</p>

  <p>In JavaScript, additional script tags are used to import third party libraries
(e.g., jQuery).  In Dart, this is not necessary: import is part of the language.</p>

  <p>Web components and HTML imports are an important caveat to the one
script per document rule.  For example, the <a href="/polymer/">Polymer.dart</a>
framework uses HTML imports to allow developers to include HTML components into a
Dart application.  Dart scripts in imported HTML documents are
injected into the main application.  See the Polymer.dart
<a href="/polymer/">documentation</a> for more details.</p>

  <h3 id="execution-timing">Execution timing</h3>

  <p>Unlike in JavaScript,
top-level Dart constructs (such as interfaces, classes, and functions)
are declarative.
Each Dart application (defined via a script tag)
provides an explicit <code>main()</code> entry point
that is invoked by the browser when it is ready to run.</p>

  <p>Currently, the Dart app’s <code>main()</code> function
is invoked after the page’s DOM is loaded.</p>

  <h3 id="no-inline-event-listeners">No inline event listeners</h3>

  <p>We disallow inline event listeners of the form:</p>

  <pre class="prettyprint lang-html">
&lt;div onclick=&quot;foo()&quot;&gt;Click this text.&lt;/div&gt;
</pre>

  <p>With JavaScript, programmers can embed inline event listener code
directly onto HTML nodes.
However, this is typically discouraged in modern JavaScript applications.
HTML pages generally render more quickly
if listeners are added programmatically afterwards.
Modern security guidelines also discourage inline code.
As such, we propose to not allow inline Dart listeners.</p>

  <h3 id="no-script-injection-of-dart-code">No script injection of Dart code</h3>

  <p>We do not currently support or recommend dynamically injecting a
<code>&lt;script&gt;</code> tag that loads Dart code. Recent browser security trends,
like Content Security Policy, actively prevent this practice.</p>
</div>

    	  </div> <!-- End of content from toc.html -->
        </article>
	  </div>

	
	<ul class="pager hidden-print">
	  <li><a href="/articles/">More articles about Dart <i class="glyphicon glyphicon-chevron-up"></i></a></li>
	 </ul>
	 

	</div>
  </div>
</div>


  <footer class="footer container-full hidden-print">
    <div class="container">
      <div class="row">
        <div class="col-md-5">
          <h3>A new language, with tools and libraries, for SCALABLE web app engineering</h3>
          <p>Dart is an <a href="https://code.google.com/p/dart/">open-source project</a> with contributors from Google and elsewhere.</p>
          <p class="sm">Except as otherwise noted, the content of this page is licensed under the Creative Commons Attribution 3.0 License, and code samples are licensed under the BSD License.</p>
        </div>
        <div class="col-md-2 col-md-offset-1">
          <h4>Popular Topics</h4>
          <ul>
            <li><a href="/polymer/?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">Polymer.dart</a></li>
            <li><a href="/performance/">Performance</a></li>
            <li><a href="/docs/dart-up-and-running/ch02.html?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">Language tour</a> &amp;
            <a href="/docs/dart-up-and-running/ch03.html?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">library tour</a></li>
            <li><a href="/samples/?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">Code samples</a></li>
            <li><a href="/docs/tutorials/?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">Tutorials</a> &amp;
                <a href="/codelabs/darrrt/?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">code lab</a></li>
          </ul>
        </div>
        <div class="col-md-2">
          <h4>Resources</h4>
          <ul>
            <li><a href="http://pub.dartlang.org/">Pub packages</a></li>
            <li><a href="/docs/synonyms/">Synonyms with other languages</a></li>
            <li><a href="http://code.google.com/p/dart/issues/list">Dart bugs and feature requests</a></li>
            <li><a href="https://github.com/dart-lang/dartlang.org">www.dartlang.org repo</a></li>
          </ul>
        </div>
        <div class="col-md-2">
          <h4>Community</h4>
          <ul>
            <li><a href="/support/">Mailing lists</a></li>
            <li><a href="https://plus.google.com/communities/114566943291919232850">G+ community</a></li>
            <li><a href="https://plus.google.com/+dartlang/posts">G+ announcement group</a></li>
            <li><a href="http://stackoverflow.com/questions/tagged/dart">Stack Overflow</a></li>
          </ul>
        </div>
      </div>
    </div>
  </footer> <!-- End footer -->



<script type='text/javascript' src='/bundles/d0739a444baf6bcd9d6405389c2e294f.js'></script>




<link rel='stylesheet' type='text/css' href='/bundles/2afe6beaa026f8648e912263a89be985.css' />






</body>
</html>

