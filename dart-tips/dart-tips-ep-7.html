<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Product">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  <title>Functions Are Fun, Pt 2 - Dart Tips, Ep 7 | Dart: Structured web apps</title>
  <meta property="twitter:account_id" content="376585411" />
  <meta itemprop="name" content="Functions Are Fun, Pt 2 - Dart Tips, Ep 7 | Dart: Structured web apps">
  
  <meta itemprop="image" content="//i.ytimg.com/vi/RJujzs2ts4s/0.jpg">
  
  <meta itemprop="description" content="Functions are true objects in Dart. Watch this video to learn more about nested functions, functions as arguments, and lexical closures. Get ready for more FUNctional tips in Dart!">



<!-- making pagespeed insights happy -->
<style>
@font-face {
  font-family: 'Montserrat';
  font-style: normal;
  font-weight: 400;
  src: url(https://themes.googleusercontent.com/static/fonts/montserrat/v4/zhcz-_WihjSQC0oHJ9TCYL3hpw3pgy2gAi-Ip7WPMi0.woff) format('woff');
}
@font-face {
  font-family: 'Montserrat';
  font-style: normal;
  font-weight: 700;
  src: url(https://themes.googleusercontent.com/static/fonts/montserrat/v4/IQHow_FEYlDC4Gzy_m8fcnbFhgvWbfSbdVg11QabG8w.woff) format('woff');
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 300;
  src: url(https://themes.googleusercontent.com/static/fonts/roboto/v10/Hgo13k-tfSpn0qi1SFdUfbO3LdcAZYWl9Si6vvxL-qU.woff) format('woff');
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 400;
  src: url(https://themes.googleusercontent.com/static/fonts/roboto/v10/CrYjSnGjrRCn0pd9VQsnFOvvDin1pK8aKteLpeZ5c0A.woff) format('woff');
}
</style>

<link rel='stylesheet' type='text/css' href='http://takyam-git.github.io/www.dartlang.org/bundles/96e4b278be2e9b94cffcad9b0b04384c.css' />


  <link rel="author" href="http://takyam-git.github.io/www.dartlang.org/authors/seth-ladd.html">
  

  <link rel="alternate" type="application/atom+xml" href="http://news.dartlang.org/feeds/posts/default" title="Atom feed">
  <link href="https://plus.google.com/109866369054280216564" rel="publisher">

  <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
  <![endif]-->

  <script>

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-49880327-3', 'dartlang.org');
ga('create', 'UA-26406144-4',
    {'cookieDomain': 'dartlang.org',
     'siteSpeedSampleRate': 50,
     'name': 'dartlangTracker'});

ga('send', 'pageview');
ga('dartlangTracker.send', 'pageview');

</script>


  <script async="" defer="" src="http://takyam-git.github.io/www.dartlang.org/survey.g.doubleclick.net/async_survey?site=apno2k33xucna4srya26u4i2ri"></script>

</head>
<body onload="prettyPrint()" data-spy="scroll" data-target=".bs-sidebar">

    <div class="navbar navbar-fixed-top navbar-inverse" role="navigation">
      <div class="dart-developer-summit-reg" style="text-align:center;background-color: hsl(172,67%,80%);">
        <a href="http://takyam-git.github.io/www.dartlang.org/events/2015/summit/">Watch sessions from the first Dart Developer Summit</a>
      </div>
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://takyam-git.github.io/www.dartlang.org/"><i class="sprite-icon-dart-logo"></i></a>
        </div>

        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
           <li class="dropdown">
              <a href="#" class="dropdown=toggle" data-toggle="dropdown">
                Get Started <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">

                <i class="sprite-icon-dd-tip"></i>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/codelabs/darrrt/">Learn Dart in Minutes</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/downloads/">Download Dart</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    Fundamentals <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/dart-up-and-running/ch02.html">Language Tour</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/dart-up-and-running/ch03.html">Library Tour</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/">Programmer's Guide</a></li>

                <li class="divider"></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/tools/">Dart Tools</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/tools/pub/">Pub Package and Asset Manager</a></li>

                <li class="divider"></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/tutorials/get-started/">Tutorial: Get Started</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/tutorials/shared-pkgs/">Tutorial: Packages</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/tutorials/futures/">Tutorial: Async</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    Browser<span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/polymer/">Polymer</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/codelabs/polymer/">Polymer Code Lab</a></li>
                <li class="divider"></li>
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/tutorials/connect-dart-html/">Tutorial: HTML</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/tutorials/polymer-intro/">Tutorial: Polymer</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/tutorials/fetchdata/">Tutorial: Forms & Data</a></li>
                <li class="divider"></li>
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/tools/editor/mobile.html">Mobile</a></li>

                <li class="divider"></li>
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/googleapis/">Google APIs Client Libraries</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    Server <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/tutorials/cmdline/">Tutorial: Basic Command-Line Apps</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/tutorials/httpserver/">Tutorial: HTTP Servers and Clients</a></li>

                <li class="divider"></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/server/google-cloud-platform/">Deploying Your Server Application</a></li>
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/googleapis/">Using Google APIs from Your Server</a></li>

                <li class="divider"></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/serverguide.html">Additional Resources</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    More <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>

                <li><a href="http://takyam-git.github.io/www.dartlang.org/samples/">Code Samples</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/synonyms/">Synonyms with Other Languages</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/dart-by-example/">Dart by Example</a></li>

                <li class="divider"></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/articles/">Articles</a></li>
                <li><a href="http://api.dartlang.org">API Reference</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/spec/">Language Specification</a></li>

                <li class="divider"></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/community/who-uses-dart.html">Who Uses Dart</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/support/faq.html">FAQ</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/logos/">Logos and Colors</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/books/">Books</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/performance/">Performance</a></li>

                <li class="divider"></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/slides/">Presentations</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/dart-tips/">Dart Tips Videos</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/support/">Support</a></li>
              </ul>
            </li>
          </ul>

          <ul class="nav navbar-nav navbar-right">
            <li>
              <form class="navbar-search" action="/search.html" id="cse-search-box">
                <input type="hidden" name="cx" value="011220921317074318178:i4mscbaxtru">
                <input type="hidden" name="ie" value="UTF-8">
                <input type="hidden" name="hl" value="en">
                <input type="search" name="q" class="search-query placeholder-position-fix form-control" id="q" autocomplete="off" placeholder="Search">
              </form>
            </li>
            <li><a href="https://twitter.com/dart_lang" class="btn"><i class="sprite-icon-social-twitter"></i></a></li>
            <li><a href="https://plus.google.com/+dartlang/posts" class="btn"><i class="sprite-icon-social-gplus"></i></a></li>
          </ul>
        </div><!-- /.nav-collapse -->

      </div><!-- /.container -->
    </div><!-- /.navbar -->


<div class="container-page">
  <div class="container">
    <div class="container col-md-10 col-md-offset-1 sub-page">
      <div>
      <h1 id="functions-are-fun-pt-2---dart-tips-ep-7">Functions Are Fun, Pt 2 - Dart Tips, Ep 7</h1>

<iframe class="dart-tips-video" src="http://takyam-git.github.io/www.dartlang.org/www.youtube.com/embed/RJujzs2ts4s" frameborder="0" allowfullscreen=""></iframe>

<p><a href="http://takyam-git.github.io/www.dartlang.org/dart-tips/">Back to all Dart Tips episodes</a>.</p>

<hr />

<h3 id="transcript">Transcript</h3>

<p>Hi, my name is Seth Ladd and welcome to this episode of Dart Tips. Today we continue our tour of the fundamentals of Functions by looking at functions as objects, nested functions, functions are arguments, and lexical closures. Get ready for more FUNctional tips about functions in Dart, right now. Let’s get started.</p>

<p>Dart is a true object-oriented language, so even functions are objects. This means functions can be assigned to variables, passed as arguments to other functions, and more.</p>

<p>To start, check this out, Function is defined in the core library as an abstract class. This means there is a function type, and a function value is a subtype of the Function class.</p>

<p>Just like you can assign objects to variables, here’s an example of assigning a fua function object to a variable.</p>

<pre class="prettyprint lang-dart">
loudPrint(String msg) {
  print(msg.toUpperCase());
}

var loudify = loudPrint;

loudify(&#39;Dart is fun&#39;);
  // DART IS FUN
</pre>

<p>Notice how you can call the loudify variable just like a normal function.</p>

<p>You can also assign an anonymous function directly to a variable, like this:</p>

<pre class="prettyprint lang-dart">
var loudify = (msg) =&gt; print(msg.toUpperCase());
loudify(&#39;Dart is funtastic&#39;);
  // DART IS FUNTASTIC
</pre>

<p>You might use this technique if you want to retain a handle on the function so that, for example, you can add or remove it from some collection.</p>

<p>Now that you know you can treat functions as objects, you can start to do some even more fun things. For example, here is an example of filtering a list of numbers down to only even numbers, and then printing them all out:</p>

<pre class="prettyprint lang-dart">
[0, 1, 2, 3].where((n) =&gt; n.isEven).forEach((n) =&gt; print(n));
</pre>

<p>We can simplify this code, by simply passing print to forEach.</p>

<pre class="prettyprint lang-dart">
[0, 1, 2, 3].where((n) =&gt; n.isEven).forEach(print);
  // 0, 2
</pre>

<p>This works because forEach() wants to be passed a single function that takes a single argument. The print function just so happens to be a function that takes a single argument. Ta da!</p>

<p>Building on this example, let’s say you need to filter on a complicated condition. You could write the code this way:</p>

<pre class="prettyprint lang-dart">
[0, 1, 2, 3].where((n) {
  if (checkStockQuotes() &gt; 500 &amp;&amp; dayOfWeek != &#39;Thursday&#39;) {
    return true;
  } else if (llamasNotYetFed() &amp;&amp; checkStockQuotes() &lt; 500) {
    return false;
  } else {
    return new Random().nextBool();
  }
}).forEach(print);
</pre>

<p>Yuck! That’s a big complicated chunk of code in the middle of an otherwise pretty line. Surely, we can do better!</p>

<p>Thanks to Dart’s support for nested functions, yes we can! Here is an example:</p>

<pre class="prettyprint lang-dart">
main() {
  complicatedCheck(n) {
    if (checkStockQuotes() &gt; 500 &amp;&amp; dayOfWeek != &#39;Thursday&#39;) {
      return true;
    } else if (llamasNotYetFed() &amp;&amp; checkStockQuotes() &lt; 500) {
      return false;
    } else {
      return new Random().nextBool();
    }
  }
  
  [0, 1, 2, 3].where(complicatedCheck).forEach(print);
}
</pre>

<p>Ahh, much better. Notice how we created a new, named function inside of main(), which is itself a function. The complicatedCheck function is a nested function. The where-forEach chain is now much easier to read.</p>

<p>You can define your own functions that take functions as parameters. Here is an example:</p>

<pre class="prettyprint lang-dart">
filterAndPrint(List items, Function filter) {
  items.where(filter).forEach(print);
}

filterAndPrint([8,9,10], (n) =&gt; n.isEven);
  // 8, 10
</pre>

<p>Notice how the second parameter is annotated as the type Function. This code works, but it doesn’t tell you much about what the filter function should expect in terms of arguments or what it should return. All we know is that it’s a Function.</p>

<p>We generally recommend that you use type annotations for the functions you expect as arguments. Here is an example:</p>

<pre class="prettyprint lang-dart">
filterAndPrint(List items, bool filter(int n)) {
  items.where(filter).forEach(print);
}

filterAndPrint([8,9,10], (n) =&gt; n.isEven);
  // 8, 10
</pre>

<p>Notice how in this example, it’s clear that filter should return a bool and should take a single parameter, ideally of type int. Now, with this extra type information, tools like Dart Editor can give better warnings if you try to pass in a filter that doesn’t match the description.</p>

<p>Before we tackle our last topic, let’s review Dart’s scoping rules. Dart is a lexically scoped language, which means that the scope of variables is determined statically, simply by the layout of the code. I like to think of lexical scope as “follow the curly braces outwards”.</p>

<p>Here is an example of nested functions with variables at each scope level:</p>

<pre class="prettyprint lang-dart">
var topLevel = true;

main() {
  var insideMain = true;
  myFunction() {
    var insideFunction = true;
    
    nestedFunction() {
      var insideNestedFunction = true;
      
      print(topLevel);
      print(insideMain);
      print(insideFunction);
      print(insideNestedFunction);
    }
  }
}
</pre>

<p>Notice how nestedFunction can reach variables at every level, all the way up to the top level. Dart’s scoping rules are very easy to reason about, it’s very much  “what you see is what you get”. Dart’s lexical scope even works with “this”, but we’ll cover that more in an episode about classes.</p>

<p>Now that we’ve looked at lexical scope, let’s take a look at functions as closures. A closure is a function object that has access to variables in its lexical scope, even when the function is used outside of its original scope. Closures are popular in other scripting languages, like JavaScript, and Dart is no stranger to lexical closures.</p>

<p>Here is an example of a function that “closes around” its variable.</p>

<pre class="prettyprint lang-dart">
makeAdder(int addBy) {
  adder(int a) {
    return a + addBy;
  }
  return adder;
}

var add2 = makeAdder(2);
var result = add2(1);
  // 3
</pre>

<p>Notice how makeAdder has a nested function named adder that adds two numbers. makeAdder’s parameter, addBy, is lexically visible to adder. Then, makeAdder returns the function object adder, which at that moment creates a closure. So far, so good.</p>

<p>[CLICK] Let’s use makeAdder to create a new adder, in this case the function add2. Calling the add2 function with 1 returns, you guessed it, 3. This is lexical closures in action, because add2 closes around addBy, whose value was originally passed to makeAdder.</p>

<p>To really drill the point home, notice how you can create more adders with makeAdder, each one not affected by the other. Here is an example of making an adder that adds 100. Notice how add100 is independent of add2.</p>

<pre class="prettyprint lang-dart">
var add100 = makeAdder(100);
var newResult = add100(1);
 // 101

var five = add2(3);  // still works!
</pre>

<p>Dart’s support for lexical scope, and lexical closures, really helps you compose your functions and apps. The better the composure, encapsulation, and reusability, the better the code.</p>

<p>Thanks for watching this episode of Dart Tips. My name is Seth Ladd, and as we say here on Dart Tips, stay sharp! See you next time.</p>

<hr />

<p><img src="imgs/marakana-logo.png" alt="Marakana Logo" /></p>

<p>Our thanks go out to <a href="http://www.marakana.com">Marakana</a> for producing this
video series.</p>

<p><a href="http://takyam-git.github.io/www.dartlang.org/dart-tips/">Back to all Dart Tips episodes</a>.</p>

      </div>
    </div>
  </div>
</div>


  <footer class="footer container-full hidden-print">
    <div class="container">
      <div class="row">
        <div class="col-md-5">
          <h3>A new language, with tools and libraries, for SCALABLE web app engineering</h3>
          <p>Dart is an <a href="https://code.google.com/p/dart/">open-source project</a> with contributors from Google and elsewhere.</p>
          <p class="sm">Except as otherwise noted, the content of this page is licensed under the Creative Commons Attribution 3.0 License, and code samples are licensed under the BSD License.</p>
        </div>
        <div class="col-md-2 col-md-offset-1">
          <h4>Popular Topics</h4>
          <ul>
            <li><a href="http://takyam-git.github.io/www.dartlang.org/polymer/?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">Polymer.dart</a></li>
            <li><a href="http://takyam-git.github.io/www.dartlang.org/performance/">Performance</a></li>
            <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/dart-up-and-running/ch02.html?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">Language tour</a> &amp;
            <a href="http://takyam-git.github.io/www.dartlang.org/docs/dart-up-and-running/ch03.html?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">library tour</a></li>
            <li><a href="http://takyam-git.github.io/www.dartlang.org/samples/?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">Code samples</a></li>
            <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/tutorials/?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">Tutorials</a> &amp;
                <a href="http://takyam-git.github.io/www.dartlang.org/codelabs/darrrt/?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">code lab</a></li>
          </ul>
        </div>
        <div class="col-md-2">
          <h4>Resources</h4>
          <ul>
            <li><a href="http://pub.dartlang.org/">Pub packages</a></li>
            <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/synonyms/">Synonyms with other languages</a></li>
            <li><a href="http://code.google.com/p/dart/issues/list">Dart bugs and feature requests</a></li>
            <li><a href="https://github.com/dart-lang/dartlang.org">www.dartlang.org repo</a></li>
          </ul>
        </div>
        <div class="col-md-2">
          <h4>Community</h4>
          <ul>
            <li><a href="http://takyam-git.github.io/www.dartlang.org/support/">Mailing lists</a></li>
            <li><a href="https://plus.google.com/communities/114566943291919232850">G+ community</a></li>
            <li><a href="https://plus.google.com/+dartlang/posts">G+ announcement group</a></li>
            <li><a href="http://stackoverflow.com/questions/tagged/dart">Stack Overflow</a></li>
          </ul>
        </div>
      </div>
    </div>
  </footer> <!-- End footer -->



<script type='text/javascript' src='http://takyam-git.github.io/www.dartlang.org/bundles/514ef0286af67b679d4820fd3c90e3ce.js'></script>




<link rel='stylesheet' type='text/css' href='http://takyam-git.github.io/www.dartlang.org/bundles/2afe6beaa026f8648e912263a89be985.css' />






</body>
</html>

