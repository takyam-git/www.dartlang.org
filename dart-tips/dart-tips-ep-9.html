<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Product">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  <title>Exceptions - Dart Tips, Ep 9 | Dart: Structured web apps</title>
  <meta property="twitter:account_id" content="376585411" />
  <meta itemprop="name" content="Exceptions - Dart Tips, Ep 9 | Dart: Structured web apps">
  
  <meta itemprop="image" content="//i.ytimg.com/vi/J94I70uqr6w/0.jpg">
  
  <meta itemprop="description" content="Learn how to gracefully handle exceptions and errors in Dart. Don't get caught off guard the next time you run into an error, learn more about try, catch, finally, and throw.">



<!-- making pagespeed insights happy -->
<style>
@font-face {
  font-family: 'Montserrat';
  font-style: normal;
  font-weight: 400;
  src: url(https://themes.googleusercontent.com/static/fonts/montserrat/v4/zhcz-_WihjSQC0oHJ9TCYL3hpw3pgy2gAi-Ip7WPMi0.woff) format('woff');
}
@font-face {
  font-family: 'Montserrat';
  font-style: normal;
  font-weight: 700;
  src: url(https://themes.googleusercontent.com/static/fonts/montserrat/v4/IQHow_FEYlDC4Gzy_m8fcnbFhgvWbfSbdVg11QabG8w.woff) format('woff');
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 300;
  src: url(https://themes.googleusercontent.com/static/fonts/roboto/v10/Hgo13k-tfSpn0qi1SFdUfbO3LdcAZYWl9Si6vvxL-qU.woff) format('woff');
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 400;
  src: url(https://themes.googleusercontent.com/static/fonts/roboto/v10/CrYjSnGjrRCn0pd9VQsnFOvvDin1pK8aKteLpeZ5c0A.woff) format('woff');
}
</style>

<link rel='stylesheet' type='text/css' href='http://takyam-git.github.io/www.dartlang.org/bundles/96e4b278be2e9b94cffcad9b0b04384c.css' />


  <link rel="author" href="http://takyam-git.github.io/www.dartlang.org/authors/seth-ladd.html">
  

  <link rel="alternate" type="application/atom+xml" href="http://news.dartlang.org/feeds/posts/default" title="Atom feed">
  <link href="https://plus.google.com/109866369054280216564" rel="publisher">

  <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
  <![endif]-->

  <script>

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-49880327-3', 'dartlang.org');
ga('create', 'UA-26406144-4',
    {'cookieDomain': 'dartlang.org',
     'siteSpeedSampleRate': 50,
     'name': 'dartlangTracker'});

ga('send', 'pageview');
ga('dartlangTracker.send', 'pageview');

</script>


  <script async="" defer="" src="http://takyam-git.github.io/www.dartlang.org/survey.g.doubleclick.net/async_survey?site=apno2k33xucna4srya26u4i2ri"></script>

</head>
<body onload="prettyPrint()" data-spy="scroll" data-target=".bs-sidebar">

    <div class="navbar navbar-fixed-top navbar-inverse" role="navigation">
      <div class="dart-developer-summit-reg" style="text-align:center;background-color: hsl(172,67%,80%);">
        <a href="http://takyam-git.github.io/www.dartlang.org/events/2015/summit/">Watch sessions from the first Dart Developer Summit</a>
      </div>
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://takyam-git.github.io/www.dartlang.org/"><i class="sprite-icon-dart-logo"></i></a>
        </div>

        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
           <li class="dropdown">
              <a href="#" class="dropdown=toggle" data-toggle="dropdown">
                Get Started <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">

                <i class="sprite-icon-dd-tip"></i>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/codelabs/darrrt/">Learn Dart in Minutes</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/downloads/">Download Dart</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    Fundamentals <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/dart-up-and-running/ch02.html">Language Tour</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/dart-up-and-running/ch03.html">Library Tour</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/">Programmer's Guide</a></li>

                <li class="divider"></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/tools/">Dart Tools</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/tools/pub/">Pub Package and Asset Manager</a></li>

                <li class="divider"></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/tutorials/get-started/">Tutorial: Get Started</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/tutorials/shared-pkgs/">Tutorial: Packages</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/tutorials/futures/">Tutorial: Async</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    Browser<span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/polymer/">Polymer</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/codelabs/polymer/">Polymer Code Lab</a></li>
                <li class="divider"></li>
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/tutorials/connect-dart-html/">Tutorial: HTML</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/tutorials/polymer-intro/">Tutorial: Polymer</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/tutorials/fetchdata/">Tutorial: Forms & Data</a></li>
                <li class="divider"></li>
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/tools/editor/mobile.html">Mobile</a></li>

                <li class="divider"></li>
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/googleapis/">Google APIs Client Libraries</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    Server <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/tutorials/cmdline/">Tutorial: Basic Command-Line Apps</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/tutorials/httpserver/">Tutorial: HTTP Servers and Clients</a></li>

                <li class="divider"></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/server/google-cloud-platform/">Deploying Your Server Application</a></li>
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/googleapis/">Using Google APIs from Your Server</a></li>

                <li class="divider"></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/serverguide.html">Additional Resources</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    More <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>

                <li><a href="http://takyam-git.github.io/www.dartlang.org/samples/">Code Samples</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/synonyms/">Synonyms with Other Languages</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/dart-by-example/">Dart by Example</a></li>

                <li class="divider"></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/articles/">Articles</a></li>
                <li><a href="http://api.dartlang.org">API Reference</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/spec/">Language Specification</a></li>

                <li class="divider"></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/community/who-uses-dart.html">Who Uses Dart</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/support/faq.html">FAQ</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/logos/">Logos and Colors</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/books/">Books</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/performance/">Performance</a></li>

                <li class="divider"></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/slides/">Presentations</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/dart-tips/">Dart Tips Videos</a></li>
                <li><a href="http://takyam-git.github.io/www.dartlang.org/support/">Support</a></li>
              </ul>
            </li>
          </ul>

          <ul class="nav navbar-nav navbar-right">
            <li>
              <form class="navbar-search" action="/search.html" id="cse-search-box">
                <input type="hidden" name="cx" value="011220921317074318178:i4mscbaxtru">
                <input type="hidden" name="ie" value="UTF-8">
                <input type="hidden" name="hl" value="en">
                <input type="search" name="q" class="search-query placeholder-position-fix form-control" id="q" autocomplete="off" placeholder="Search">
              </form>
            </li>
            <li><a href="https://twitter.com/dart_lang" class="btn"><i class="sprite-icon-social-twitter"></i></a></li>
            <li><a href="https://plus.google.com/+dartlang/posts" class="btn"><i class="sprite-icon-social-gplus"></i></a></li>
          </ul>
        </div><!-- /.nav-collapse -->

      </div><!-- /.container -->
    </div><!-- /.navbar -->


<div class="container-page">
  <div class="container">
    <div class="container col-md-10 col-md-offset-1 sub-page">
      <div>
      <h1 id="exceptions---dart-tips-ep-9">Exceptions - Dart Tips, Ep 9</h1>

<iframe class="dart-tips-video" src="http://takyam-git.github.io/www.dartlang.org/www.youtube.com/embed/J94I70uqr6w" frameborder="0" allowfullscreen=""></iframe>

<p><a href="http://takyam-git.github.io/www.dartlang.org/dart-tips/">Back to all Dart Tips episodes</a>.</p>

<hr />

<h3 id="transcript">Transcript</h3>

<p>Hi, my name is Seth Ladd and today on Dart Tips we talk about Exceptions. You
know, those errors that bubble up from deep within the bowels of your program
and tell you where something went wrong. Watch this episode so you won’t be
caught off guard the next time you run into a problem. Let’s get started!</p>

<p>Dart uses exceptions when an error or other exceptional event occurs inside your
program. When a situation arises that cannot be handled by the program or
runtime (for example when the system runs out of memory or invalid input was
provided) normal program execution stops and an exception is created. This
exception object is then thrown down the call stack, looking for someone to
catch it. If no code handles the exception, the program exits.</p>

<p>Common error cases include:</p>

<ul>
  <li>out of memory</li>
  <li>invalid input</li>
  <li>incorrect state transitions</li>
  <li>meaningless arguments</li>
  <li>and more</li>
</ul>

<p>The Dart SDK classifies most problems as errors and thus most of the exception
class names in the SDK end with error. The name error is shorter than exception,
and generally there’s nothing exceptional about many of the problems. They are
flat-out errors as in “don’t do it”. For this video, we’ll use the name
exception to mean “errors or exceptions thrown by the program or runtime”.</p>

<p>Normally, you know an exception or error has occurred when you encounter a stack
trace. They look something like this:</p>

<pre><code>Bad state: door already closed
#0      Room.closeDoor (file:///Users/sethladd/Code/dart_tips/bin/episode09.dart:14:7)
#1      example02 (file:///Users/sethladd/Code/dart_tips/bin/episode09.dart:48:17)
#2      main (file:///Users/sethladd/Code/dart_tips/bin/episode09.dart:57:12)
</code></pre>

<p>This report has useful information to help you determine what happened and where
it happened. For example, we know:</p>

<ul>
  <li>there was an unhandled exception</li>
  <li>the exception was “Bad state: door already closed”</li>
  <li>the problem occurred inside the closeDoor method</li>
  <li>at line 14</li>
  <li>in episode09.dart</li>
</ul>

<p>I feel like it’s a game of clue… “in the parlor, with the candlestick, on line
14”.</p>

<p>We can also trace the execution of the program, from the main function to the
openDoor method. This is very useful information when diagnosing and debugging
exceptions.</p>

<p>OK, with that introduction, let’s look at some code. There are four specific
concepts to explore: throw, try, catch, and finally. Each shows up as syntax
that you can use in your program.</p>

<p>In general, exceptions in Dart aren’t that invasive. For example, you can throw
any non-null object. Dart methods and functions do not declare the exceptions
they can throw, and you aren’t required to catch for exceptions a method might
throw.</p>

<p>To signal an error or exception has occurred, use throw. This is also known as
raising an exception. Here is an example:</p>

<pre class="prettyprint lang-dart">
openDoor() {
  if (doorLocked) {
    throw new StateError(&#39;door locked&#39;);
  }
</pre>

<p>If the door is locked, you can’t open it, so the program signals this problem by
throwing an instance of StateError.</p>

<p>Remember, you can throw any non-null object as an exception. The Dart SDK ships
classes for many common exceptions, and you can extend the Exception class to
create your own more specific exceptions.</p>

<p>For example, you may want to create a specific DoorLockedError class. Here is an
example:</p>

<pre class="prettyprint lang-dart">
class DoorLockedError extends StateError {
  DoorLockedError(String msg) : super(msg);
}
</pre>

<p>We’ll cover classes in a future episode, but for now it’s enough to understand
that DoorLockedError is a specific type of StateError.</p>

<p>When an object is thrown, the current function or method does not continue, and
the exception object travel through the stack, looking for someone to handle it.
Normally, you should handle exceptions gracefully and provide some sort of
mitigation or feedback to the user. Use the catch clause to capture exceptions.</p>

<p>Here is an example:</p>

<pre class="prettyprint lang-dart">
try {
  room.openDoor();
  room.enter(person);
} catch(exception, stackTrace) {
  print(exception);
  print(stackTrace);
}
</pre>

<p>Wrap any code that might throw an exception inside of a try block. Exceptions
thrown from within the try block are handled by the catch block. The exception
variable is the exception object itself. The stackTrace object is, no surprise
here, the stack trace.</p>

<p>It’s important to note that if openDoor() throws an exception, then enter() is
never called. Control of the program jumps to the catch block on exception.</p>

<p>If an exception is caught, you will see the following output:</p>

<pre><code>Bad state: door locked
#0      Room.openDoor (file:///Users/sethladd/Code/dart_tips/bin/episode09.dart:20:7)
#1      example02 (file:///Users/sethladd/Code/dart_tips/bin/episode09.dart:70:16)
#2      main (file:///Users/sethladd/Code/dart_tips/bin/episode09.dart:121:12)
</code></pre>

<p>The first line is the exception object, and the following lines are from the
stack trace object.</p>

<p>Here is a shorter example. You can of course name these variables however you
like. You can even omit the stack trace.</p>

<pre class="prettyprint lang-dart">
try {
  room.openDoor();
  room.enter(person);
} catch(e) {
  print(e);
}
</pre>

<p>Some methods can throw different exceptions, based on different conditions. For
example, the enter() method can throw a StateError if the door is not open, or
it can throw an ArgumentError if the expected argument is null.</p>

<p>Here is how you catch different types of exceptions:</p>

<pre class="prettyprint lang-dart">
try {
  room.openDoor();
  room.enter(person);
} on StateError catch(e) {
  doubleCheckDoor();
} on ArgumentError catch(e) {
  reloadPerson();
} catch(e) {
  print(e);
}
</pre>

<p>You can use on to specify what kind of exception you want to catch. You can
specify multiple on clauses, and you can specify a catch-all as the last catch
clause.</p>

<p>You can use on or catch or both. If you don’t care about the actual exception
object, you can omit catch:</p>

<pre class="prettyprint lang-dart">
try {
  // …
} on StateError {
  // …
}
</pre>

<p>Sometimes you need to ensure code runs no matter what, whether or not an
exception is thrown. Use the finally clause to make sure code is always run.
Here is an example:</p>

<pre class="prettyprint lang-dart">
try {
  room.openDoor();
  room.enter(person);
} catch(e) {
  // ...
} finally {
  room.reset();
}
</pre>

<p>If no exception is thrown, finally runs. If an exception is thrown from within
the try clause, catch runs, and then finally runs. In this example, the room is
always reset.</p>

<p>To recap, Dart has familiar try / catch / finally clauses. You can throw any
non-null object as an exception, and many common error cases are found in the
Dart SDK. You can have many catch clauses for a try clause, each for a specific
exception type. The finally clause runs whether or not an exception was thrown.
Client code is not forced to catch for exceptions, so it’s up to you to
determine when and how to handle potential errors.</p>

<p>Thanks for watching, I’m Seth Ladd, and as we say here on Dart Tips: stay sharp!</p>

<hr />

<p><img src="imgs/marakana-logo.png" alt="Marakana Logo" /></p>

<p>Our thanks go out to <a href="http://www.marakana.com">Marakana</a> for producing this
video series.</p>

<p><a href="http://takyam-git.github.io/www.dartlang.org/dart-tips/">Back to all Dart Tips episodes</a>.</p>

      </div>
    </div>
  </div>
</div>


  <footer class="footer container-full hidden-print">
    <div class="container">
      <div class="row">
        <div class="col-md-5">
          <h3>A new language, with tools and libraries, for SCALABLE web app engineering</h3>
          <p>Dart is an <a href="https://code.google.com/p/dart/">open-source project</a> with contributors from Google and elsewhere.</p>
          <p class="sm">Except as otherwise noted, the content of this page is licensed under the Creative Commons Attribution 3.0 License, and code samples are licensed under the BSD License.</p>
        </div>
        <div class="col-md-2 col-md-offset-1">
          <h4>Popular Topics</h4>
          <ul>
            <li><a href="http://takyam-git.github.io/www.dartlang.org/polymer/?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">Polymer.dart</a></li>
            <li><a href="http://takyam-git.github.io/www.dartlang.org/performance/">Performance</a></li>
            <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/dart-up-and-running/ch02.html?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">Language tour</a> &amp;
            <a href="http://takyam-git.github.io/www.dartlang.org/docs/dart-up-and-running/ch03.html?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">library tour</a></li>
            <li><a href="http://takyam-git.github.io/www.dartlang.org/samples/?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">Code samples</a></li>
            <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/tutorials/?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">Tutorials</a> &amp;
                <a href="http://takyam-git.github.io/www.dartlang.org/codelabs/darrrt/?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">code lab</a></li>
          </ul>
        </div>
        <div class="col-md-2">
          <h4>Resources</h4>
          <ul>
            <li><a href="http://pub.dartlang.org/">Pub packages</a></li>
            <li><a href="http://takyam-git.github.io/www.dartlang.org/docs/synonyms/">Synonyms with other languages</a></li>
            <li><a href="http://code.google.com/p/dart/issues/list">Dart bugs and feature requests</a></li>
            <li><a href="https://github.com/dart-lang/dartlang.org">www.dartlang.org repo</a></li>
          </ul>
        </div>
        <div class="col-md-2">
          <h4>Community</h4>
          <ul>
            <li><a href="http://takyam-git.github.io/www.dartlang.org/support/">Mailing lists</a></li>
            <li><a href="https://plus.google.com/communities/114566943291919232850">G+ community</a></li>
            <li><a href="https://plus.google.com/+dartlang/posts">G+ announcement group</a></li>
            <li><a href="http://stackoverflow.com/questions/tagged/dart">Stack Overflow</a></li>
          </ul>
        </div>
      </div>
    </div>
  </footer> <!-- End footer -->



<script type='text/javascript' src='http://takyam-git.github.io/www.dartlang.org/bundles/514ef0286af67b679d4820fd3c90e3ce.js'></script>




<link rel='stylesheet' type='text/css' href='http://takyam-git.github.io/www.dartlang.org/bundles/2afe6beaa026f8648e912263a89be985.css' />






</body>
</html>

